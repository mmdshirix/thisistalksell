generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model chatbots {
  id                    Int       @id @default(autoincrement())
  name                  String
  description           String?
  created_at            DateTime  @default(now())
  updated_at            DateTime  @updatedAt
  website_url           String?
  business_description  String?
  stats_multiplier      Float?    @default(1.0)
  primary_color         String?   @default("#3B82F6")
  secondary_color       String?   @default("#1E40AF")
  position_x            String?   @default("right")
  position_y            String?   @default("bottom")
}

model messages {
  id          Int      @id @default(autoincrement())
  chatbot_id  Int
  user_id     String
  message     String
  response    String?
  created_at  DateTime @default(now())
  is_from_bot Boolean  @default(false)
}

model faqs {
  id          Int    @id @default(autoincrement())
  chatbot_id  Int
  question    String
  answer      String
  created_at  DateTime @default(now())
}

model products {
  id          Int     @id @default(autoincrement())
  chatbot_id  Int
  name        String
  description String?
  price       Float?
  image_url   String?
  created_at  DateTime @default(now())
}

model tickets {
  id          Int      @id @default(autoincrement())
  chatbot_id  Int
  user_phone  String
  user_name   String?
  subject     String
  message     String
  status      String   @default("open")
  priority    String   @default("medium")
  created_at  DateTime @default(now())
  updated_at  DateTime @updatedAt
  image_url   String?
}

model ticket_responses {
  id         Int      @id @default(autoincrement())
  ticket_id  Int
  message    String
  is_admin   Boolean  @default(false)
  created_at DateTime @default(now())
}

model admin_users {
  id          Int      @id @default(autoincrement())
  chatbot_id  Int
  username    String
  password    String
  role        String   @default("admin")
  created_at  DateTime @default(now())
}
